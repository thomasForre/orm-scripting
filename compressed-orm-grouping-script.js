javascript:(function () {const n="orm-grouping",e=document.createElement("div"),t=document.createElement("style"),r=document.querySelector(".k-grouping-drop-container"),i=document.querySelector(".k-chip-list"),o=document.querySelector('svg[data-testid="ClearIcon"]'),a=document.querySelector('svg[data-testid="SettingsIcon"]'),c=n=>new Promise(e=>setTimeout(e,n));let l,d=document.getElementById("btn-clear-grouping"),s=document.getElementById("btn-group-settings");async function u(n){if(!r)return;const e=o?o.cloneNode(!0):null,t=a?a.cloneNode(!0):null;await g(),columnsToGroup=n.filter(n=>1==n.checked);for(const{name:n,dataField:e}of columnsToGroup){if(!n)continue;let t=f(e);await p(t,r),await new Promise(n=>setTimeout(n,20))}d||(d=document.createElement("button"),Object.assign(d,{id:"btn-clear-grouping",title:"Fjern gruppering"}),d.classList.add("button-drop-container"),d.appendChild(e)),s||(s=document.createElement("button"),Object.assign(s,{id:"btn-group-settings",title:"√Öpne grupperingsvalg"}),s.classList.add("button-drop-container"),s.appendChild(t)),r.appendChild(d),r.appendChild(s),d.addEventListener("click",async()=>await g()),s.addEventListener("click",()=>{m(),0==x().length?E():q()})}async function p(n,e){const t=n.getBoundingClientRect(),r=e.getBoundingClientRect(),i=t.left+t.width/2,o=t.top+t.height/2,a=r.left+r.width/2,l=r.top+r.height/2;function d(n,e,t){(document.elementFromPoint(e,t)||document).dispatchEvent(new PointerEvent(n,{bubbles:!0,cancelable:!0,clientX:e,clientY:t,buttons:1,pointerId:1,pointerType:"mouse",isPrimary:!0}))}d("pointerdown",i,o),await c(20);for(let n=1;n<=10;n++){d("pointermove",i+n/10*(a-i),o+n/10*(l-o))}d("pointerup",a,l)}async function g(){for(;;){const n=document.querySelector(".k-chip-remove-action");if(!n)break;n.click(),await c(20)}}function f(n){const e=document.querySelector(`th a[data-field="${n}"]`);return e?.closest("th")||null}function m(){document.body.appendChild(e)}function b(){l&&(S(v()),l.querySelectorAll("ul input[type='checkbox']").forEach(n=>n.checked=!1))}function h(){e.remove()}function y(){return JSON.parse(localStorage.getItem(n)||"[]")}function x(){return[...i.querySelectorAll(".k-chip-label")].map(n=>n.innerText)}function v(){const n=[...document.querySelectorAll("th a")].map(n=>n.innerText).filter(n=>""==n?null:n),e=[...document.querySelectorAll("th a ")].map(n=>n.dataset.field).filter(n=>"workItemImage"==n?null:n);return n.map((n,t)=>({name:n,dataField:e[t]}))}function k(){return[...e.querySelectorAll("ul li")].map(n=>({name:n.querySelector("ul li label").innerText.trim(),dataField:n.querySelector("input").dataset.field,checked:n.querySelector("input").checked}))}function S(n){const e=new Map([...l.children].map(n=>{const e=n.querySelector("input");return e?[e.dataset.field,n]:null}).filter(Boolean));n.forEach(n=>{const t=e.get(n.dataField);t&&(l.appendChild(t),t.querySelector("input").checked=n.checked)})}function E(){const n=y();S(y()),n.forEach(n=>{const e=l.querySelector(`input[data-field="${n.dataField}"]`);n.checked&&(e.checked=!0)})}function q(){const n=x();b(),l.querySelectorAll("input").forEach(e=>{const t=e.title;e.checked=n.includes(t)})}!async function(){if(!(r&&i&&o&&a))return void console.warn("Required elemenents not found");const c=document.getElementById("group-settings-card");c&&c.remove(),function(){if(document.getElementById("custom-grouping-style"))return;t.id="custom-grouping-style",t.textContent='\n.card {\nbackground: #f4e5d1;\nborder: 1px solid #5E3F17;\nborder-radius: 6px;\nbox-shadow: 0 6px 10px rgba(0,0,0,.4);\nfont-family: sans-serif;\nposition: fixed;\npadding: 10px;\nleft: calc(50% - 140px);\ntop: 80px;\nwidth: 280px;\nz-index: 99999;\n}\n\n.card-header b {\nalign-items: center;\ndisplay: flex; \nfont-size: 1.2rem;\nmargin-bottom: 0.5rem;\n}\n\n.card-footer {\ndisplay: flex;\ngap: 6px;\njustify-content: center;\nmargin-top: 10px;\n}\n\n.badge-container {\ndisplay: flex;\ngap: 4px;\njustify-content: start;\nmargin-top: 4px;\n}\n\n.badge {\nalign-items: center;\nborder-radius: 4px;\ncursor: default;\ndisplay: flex;\nfont-size: 1rem;\nheight: 28px;\njustify-content: center;\ntransition: linear 0.05s;\nwidth: 28px;\n}\n\n.badge:hover {\nbackground: #E8C9A1;\nfont-size: 1.2rem;\n}\n\n.badge:active {\nbackground: transparent;\nfont-size: 1rem;\n}\n\n.grab-icon {\nalign-items: center;\ncursor: grab;\ndisplay: flex;\njustify-content: center;\nmargin-left: 4px;\nmargin-right: 4px;\n}\n\n.grab-icon:active {\ncursor: grabbing;\n}\n\nul {\nlist-style-type: none;\nmargin-top: 0px;\nmargin-bottom: 0px;\nmargin-left: 0;\npadding: 0;\n}\n\ninput[type="checkbox"] {\nmargin-right: 10px;\n}\n\nli {\ndisplay: flex;\nflex-wrap: nowrap;\n}\n\nli:hover {\nbackground: #E8C9A1;\nborder-radius: 2px;\ntransition: ease .2s;\n}\n\nli label {\ncursor: pointer;\ndisplay: flex;\nwidth: 100%;\n}\n\nli span {\nfont-size\nmargin-left: 4px;\nmargin-right: 4px;\n}\n\nli.dragging {\nbackground: #E8C9A1;\nopacity: 0.5;\n}\n\n.button-card-close {\nalign-items: center;\nborder-color: transparent;\nborder-radius: 4px;\ncursor: pointer;\ndisplay: flex;\nfont-size: 12px;\nheight: 28px;\njustify-content: center;\nmargin-left: auto;\nwidth: 28px;\ntransition: linear 0.1s;\n}\n\n.button-card-close:hover {\nfont-size: 110%;\n}\n\n.button-card-footer {\nheight: 32px;\nwidth: 100px;\n}\n\n.button-drop-container {\nalign-items: center;\nbackground: transparent;\nborder: none;\nborder-radius: 4px;\ncolor: #9B0158;\ndisplay: flex;\nheight: 44px;\njustify-content: center;\nmargin-left: 2px;\nmargin-right: 2px;\nwidth: 44px;\n}\n\n.button-drop-container:hover {\nbackground-color: #FFE6F4;\n}\n',document.head.appendChild(t)}(),e.id="group-settings-card",e.classList.add("card"),e.innerHTML='\n<div class="card-header">\n<b>AT gruppering\n<span class="button-card-close" id="close" title="Lukk">‚ùå</span>\n</b>\n<i>Velg kolonner som skal grupperes</i>\n<div class="badge-container">\n<span class="badge" type="button" id="favorite" title="Hent favorittoppsett">‚≠ê</span>\n<span class="badge" type="button" id="clear" title="Nullstill">üóëÔ∏è</span >\n<span class="badge" type="button" id="save" title="Large favorittoppsett">üíæ</span>\n</div>\n</div>\n<hr>\n<div>\n<ul id="list"></ul>\n<hr>\n</div>\n<div class="alert-text-area"></div>\n<div class="card-footer">\n<button class="button-card-footer" title="Grupper valgte kolonner"; id="apply">‚úÖ Bruk</button>\n</div>\n',l=e.querySelector("#list"),columnDetails=v(),columnDetails.forEach((n,e)=>{const t=e+1;l.insertAdjacentHTML("beforeend",`\n<li draggable="true" title="Dra og slipp for √• endre rekkef√∏lge">\n<span class="grab-icon">‚â°</span>\n<label for="${t}">\n<input type="checkbox" id="${t}" title="${n.name}" data-field="${n.dataField}">\n${n.name}\n</li>\n`)}),function(){const n=e.querySelector("#list");let t=null;n.addEventListener("dragstart",n=>{"LI"===n.target.tagName&&(t=n.target,n.target.classList.add("dragging"))}),n.addEventListener("dragend",n=>{n.target.classList.remove("dragging"),t=null}),n.addEventListener("dragover",e=>{e.preventDefault();const r=e.target.closest("li");if("LI"!==r.tagName||r===t)return;const i=r.getBoundingClientRect(),o=(e.clientY-i.top)/i.height>.5;n.insertBefore(t,o?r.nextSibling:r)}),n.addEventListener("drop",n=>{n.preventDefault(),t=null})}(),!function(){if(y().some(n=>n.checked))return!1;return!0}()?await u(y()):(m(),q()),e.querySelector("#apply").onclick=async()=>{k().some(n=>n.checked)&&(h(),await u(k()))},e.querySelector("#save").onclick=()=>function(){const e=k();return void localStorage.setItem(n,JSON.stringify(e))}(),e.querySelector("#favorite").onclick=()=>E(),e.querySelector("#clear").onclick=()=>{b()},e.querySelector("#close").onclick=()=>h(),document.addEventListener("click",n=>{e?.contains(n.target)||s?.contains(n.target)||h()})}();})();